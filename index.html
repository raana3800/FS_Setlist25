<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Setlist Übersicht</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 12px;
            text-align: center;
            border: 1px solid #ccc;
        }
        th {
            background-color: #f4f4f4;
        }
        .status {
            cursor: pointer;
            font-size: 24px;
        }
        tbody tr {
            cursor: move;
        }
    </style>
</head>
<body>

<h1>Setlist</h1>

<table id="setlist">
    <thead>
        <tr>
            <th>#</th>
            <th>Song</th>
            <th>BPM</th>
            <th>Drums</th>
            <th>Keyboard</th>
            <th>Gitarre</th>
            <th>Bass</th>
            <th>Gesang</th>
        </tr>
    </thead>
    <tbody>
        <!-- Hier sind deine Songs -->
    </tbody>
</table>

<script>
function toggleStatus(element) {
    if (element.innerHTML === '❌') {
        element.innerHTML = '✅';
    } else {
        element.innerHTML = '❌';
    }
}

// Drag & Drop Funktionalität
const tbody = document.querySelector('#setlist tbody');
let draggedRow = null;

tbody.addEventListener('dragstart', (e) => {
    if (e.target.tagName === 'TR') {
        draggedRow = e.target;
    }
});

tbody.addEventListener('dragover', (e) => {
    e.preventDefault();
    const targetRow = e.target.closest('tr');
    if (targetRow && targetRow !== draggedRow) {
        const rect = targetRow.getBoundingClientRect();
        const next = (e.clientY - rect.top) / (rect.bottom - rect.top) > 0.5;
        tbody.insertBefore(draggedRow, next && targetRow.nextSibling || targetRow);
    }
});

tbody.addEventListener('dragend', () => {
    draggedRow = null;
    updateRowNumbers();
});

// Nummerierung nach Sortieren aktualisieren
function updateRowNumbers() {
    const rows = tbody.querySelectorAll('tr');
    rows.forEach((row, index) => {
        row.querySelector('td').textContent = index + 1;
    });
}

// Alle Zeilen draggable machen
const rows = tbody.querySelectorAll('tr');
rows.forEach(row => row.setAttribute('draggable', 'true'));
</script>

<script>
// Songs in das tbody einfügen
const songs = [
    {title: "Don't Change", bpm: 164},
    {title: "Ready to Start", bpm: 190},
    {title: "Cities in Dust", bpm: 120},
    {title: "Hungry Like the Wolf", bpm: 128},
    {title: "The Safety Dance", bpm: 102},
    {title: "Early Morning Wake Up Call", bpm: 166},
    {title: "A Forest", bpm: 163},
    {title: "I Ran (So Far Away)", bpm: 145.5},
    {title: "Enola Gay", bpm: 143},
    {title: "You Spin Me Round (Like a Record)", bpm: 128},
    {title: "You Keep Me Hangin' On", bpm: 132},
    {title: "Touch Me (I Want Your Body)", bpm: 121}
];

const tbodyElement = document.querySelector('#setlist tbody');

songs.forEach((song, index) => {
    const row = document.createElement('tr');
    row.setAttribute('draggable', 'true');
    row.innerHTML = `
        <td>${index + 1}</td>
        <td>${song.title}</td>
        <td>${song.bpm}</td>
        <td class="status" onclick="toggleStatus(this)">&#10060;</td>
        <td class="status" onclick="toggleStatus(this)">&#10060;</td>
        <td class="status" onclick="toggleStatus(this)">&#10060;</td>
        <td class="status" onclick="toggleStatus(this)">&#10060;</td>
        <td class="status" onclick="toggleStatus(this)">&#10060;</td>
    `;
    tbodyElement.appendChild(row);
});
</script>

</body>
</html>
